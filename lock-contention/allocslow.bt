uprobe:/home/claireh/openjdk/build/bug/jdk/lib/server/libmmtk_openjdk.so:"_ZN127_$LT$mmtk..util..alloc..bumpallocator..BumpAllocator$LT$VM$GT$$u20$as$u20$mmtk..util..alloc..allocator..Allocator$LT$VM$GT$$GT$15alloc_slow_once17h386064d36d6c9d30E" {
    @alloc_slow_entry[tid] = nsecs;
}

uretprobe:/home/claireh/openjdk/build/bug/jdk/lib/server/libmmtk_openjdk.so:"_ZN127_$LT$mmtk..util..alloc..bumpallocator..BumpAllocator$LT$VM$GT$$u20$as$u20$mmtk..util..alloc..allocator..Allocator$LT$VM$GT$$GT$15alloc_slow_once17h386064d36d6c9d30E" {
    $ns = @alloc_slow_entry[tid];
    if ($ns) {
        // printf("%lu %d \n", nsecs - $ns, tid);
        @usecs = hist((nsecs - $ns) / 1000);
    }
}

usdt:/home/claireh/openjdk/build/bug/jdk/lib/server/libmmtk_openjdk.so:mmtk:spacelockacquired {
    @lock_acquired[tid] = nsecs;
}

usdt:/home/claireh/openjdk/build/bug/jdk/lib/server/libmmtk_openjdk.so:mmtk:spacelockreleased {
    $ns = @lock_acquired[tid];
    if ($ns) {
        @lock_held_time = hist((nsecs - $ns) / 1000);
    }
}